webpackJsonp([1],{1115:function(e,t,a){"use strict";function i(e){a(1193)}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1195),s=a.n(l),n=a(1202),r=a(15),o=i,g=r(s.a,n.a,!1,o,"data-v-5c9588d1",null);t.default=g.exports},1122:function(e,t){e.exports="data:image/gif;base64,R0lGODlhDgAOANUtAMIaH9MbIbIYHcIZH+vr6+IcI+McIvP09O/w8P7//uzs7Pb29t/g3+bm5ebn5/39/fb29fv6+/z7+/Hx8OPk5OLj4rEYHcEaH+McI+3t7ff39+IcIv39/unq69na2ujp6bIZHf7+/vLz87EZHe7v793e3vLy8acYHMHBwe0dJCUlJXx8fP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAC0ALAAAAAAOAA4AAAZywJVwOGwZjSuWcplcHVtJT6niICRZTiSLQflkJsRjstEhiRaodBbKUiAOKhWHhVrF2SaI6nRS0fd9SRoRDyogAnEjFipsEiFKKgAAAxeMbAlLLCoBAZZsmSobGAYFlklpKCopKXGrjESqrEKxnkZ3R3dBADs="},1123:function(e,t){e.exports="data:image/gif;base64,R0lGODlhDgAOAMQeAMHZHq7SJ/z8+/z8/K7SKNTfFvv7/OPi463SJ+TlDq7TJ8LZHtPfFvv7++/v78HZH+PkDozGOMHYH4zHOO/w7+Lj4pzMMZvMMPb29unp6ZWVlSUlJf///0ZGRv///wAAACH5BAEAAB4ALAAAAAAOAA4AAAVUoNeNZOmdHaeubIdyWqXN9OGKXKbv+53SFJrG4eNgjkjS5mUQNAYDQScyWeJUpY7lshnhfIoAIYAgWEkigASweACsp9NmzijM4XFUAoLPy+9+gX4hADs="},1124:function(e,t,a){t=e.exports=a(1102)(!1),t.push([e.i,"#manage{width:100%;height:100%}.tabtree{margin:5px 0!important;position:relative!important}.tabtree a{cursor:pointer;color:#444}.tabtree .gap{margin-left:5px}.tabtree li.active a,.tabtree li.active a:focus,.tabtree li.active a:hover{cursor:pointer;position:relative;bottom:-1px;border-bottom-color:#fff}.tabtree li a{background:#eee;padding:5px 20px}.content .config_panel,.content .panel .search_panel{padding:0!important;margin-top:0!important;width:100%;height:100%;overflow:hidden}.aggvsearch_panel,.selfconfig{margin-top:0!important;padding-bottom:30px}.panel-tag{position:relative}.search_wrap{width:400px;line-height:36px}.search_wrap span,.tag_ar span,.weidu_name span{font-weight:600}#estab_date{height:26px}.form-search{display:inline-block}.form-search .input_name{width:200px;height:26px}.parameter .box{display:flex;justify-content:space-between;flex-wrap:wrap}.parameter legend{font-weight:700}.paramewrap{width:262px;height:30px;line-height:24px}.selector,.selfconfig .weidu_name input{height:24px;width:150px}.paramewrap input,.paramewrap select{width:140px;height:24px;float:right}.paramewrap span{width:114px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}.box_config .rightcon .search_wrap span{font-weight:400}.form-search .sBtn{height:27px;line-height:13px;vertical-align:bottom}.tab-pane .sTable{overflow:hidden;position:relative!important;left:0}.tab-pane .sTable label{margin-bottom:0}.tab-pane .sTable label input{vertical-align:text-top}.tab-pane .sTable .table-common td.right{text-align:left}.sTable td,.sTable th{text-align:center}.sTable .th3{border-right:0}.panel-tag .tools{display:inline-block;position:absolute;top:-20px;right:5px}.panel-tag .tools a,.weidu_config .tools a{padding:7px}.weidu_config .tools{margin:0}.tools:hover a{text-decoration:none}.weidu_search .add_remove{width:90%;margin-top:34px;margin-left:18px;display:none}.tag_ar{width:100%;height:25px;background:#eee}.tag_ar .add,.tag_ar .remove{display:inline-block;line-height:20px;cursor:pointer;margin-left:10px;padding:2px;font-size:12px}.tag_ar .remove img{vertical-align:text-bottom}.table_aR{width:90%;height:75px;border:1px solid #898989}#u39_input{width:200px;height:26px}.weidu_config{width:100%;height:100%;overflow:auto}.weidu_config .panel-default{width:100%;height:100%;overflow:hidden}.weidu_config .design_info{margin-left:12px;width:100%}.weidu_config .panel-title .addrow i{color:#65778b;font-size:14px;padding-right:2px}.weidu_config .panel-title .addrow{padding:2px 3px;box-sizing:border-box;margin-left:10px;cursor:pointer}.weidu_config .panel-title .addrow:hover{background:#f4f5f6;border-radius:3px;border:1px solid #ddd}.nav_detail{width:96%;height:30px;border-bottom:1px solid #ddd;margin-bottom:20px}.nav_detail .title{width:100px;height:32px;line-height:30px;text-align:center;border-bottom:2px solid #898989;font-weight:700}.weidu_config .left_class{width:500px;height:200px}#config_table{overflow:hidden}.fix-table-panel .table-common{min-width:100%}#config_table .table-common .title{height:155px}#config_table .table-common td,#config_table .table-common th{text-align:center;min-width:250px!important}.left_class #txt{margin:0 15px 0 8px}.left_class #next{display:inline-block}.left_class .right{margin-left:40px;margin-top:2px;margin-bottom:8px;position:relative;width:93px;height:24px}.left_class .right .fright{position:absolute;top:0;right:0}.list{background:#fff;font-family:arial;font-size:12px;text-align:left;position:absolute;left:76px;top:10px;z-index:1}.list,.list p{border:1px solid #aaa}.list p{cursor:pointer;padding:3px 8px;margin:5px;background:#eee none repeat scroll 0 0;border-radius:3px}.list .lia{margin-bottom:2px}.left_class .right #txt{margin-right:25px}.left_class .profit{margin-left:40px}.left_class .profit #txt{border:1px solid #898989;padding:1px;margin-right:8px}.right_designs{width:70%;float:right}.right_designs .select_tag{width:80px;height:30px;border:1px solid #898989;text-align:center;line-height:30px}.right_designs .select{width:430px;height:190px;border:1px solid #898989}.right_designs .select .input{font-family:Arial Normal,Arial;font-weight:400;font-style:normal;font-size:13px;text-decoration:none;color:#000;margin-top:30px;margin-left:20px}.left_class .title .seat{position:absolute;top:36px;left:54px}.tree-folder-name{font-size:12px}.tree-folder-name i{margin-left:8px;font-size:12px}.box_config{width:100%;height:100%;overflow:hidden;position:relative}.box_config .leftside{width:16%;height:100%;overflow:hidden;position:absolute;left:0;top:0}.box_config .leftside .treeleft{width:100%;height:calc(100% - 27px);overflow-y:auto;overflow-x:hidden}.box_config .leftside .treeleft::-webkit-scrollbar{width:4px;position:relative;top:27px}.box_config .leftside .treeleft::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.rightcon_wrap{width:84%;height:100%;position:relative;top:0;left:16%;overflow:hidden;border-left:1px solid #ddd}.box_config .leftside .title{width:100%;height:27px;line-height:24px;text-align:center;color:#fff;background:url("+a(1125)+")no-repeat;background-size:106% 31px;background-position-x:center;background-position-y:bottom}.box_config .rightcon .save{height:26px;line-height:12px;margin-left:calc(100% - 88px)}.weidu_name{line-height:20px;padding-left:15px;background:#eee;border-bottom:1px solid #ddd}.box_config .tag_head .weidu_name{display:inline-block}.seat{margin:10px 0 0 22px}.rightcon{width:100%;height:100%;padding-left:20px;padding-bottom:5px}.rightcon form{margin:10px 0}.edit{border:1px solid #ddd;border-top-left-radius:8px;border-top-right-radius:8px;width:96%;height:72px;padding:8px;resize:none}input{color:#000;text-indent:1em}.box_config .rightcon .add,.selfconfig .selfadd,.selfconfig .selfsave{height:26px;line-height:12px;float:right;margin-right:36px}.selfconfig .selfsave{margin-right:42px}.box_config .rightcon .add,.selfconfig .selfadd{margin-right:10px}.page{overflow:hidden;background:#eee}.pagination{float:right;line-height:0;margin:2px 10px 2px 0}.pagination li,.pagination li a{display:inline-block}.pagination li a{padding:.2rem .8rem;border:1px solid #ddd;background:#fff;color:#444}.pagination li a:hover{background:#eee}.pagination li.active a{background:#444!important;color:#fff}#manage #tabs-167894{background:#fff;width:100%;position:fixed;top:92px;z-index:9}#manage .tab-content{margin-top:40px}fieldset{width:96%;border:1px solid #ccc;padding:8px;border-top-right-radius:8px}.devide_search fieldset{margin:20px auto;padding:20px}.devide_search fieldset legend{font-weight:700;color:#444}.devide_search .divide_config input{width:200px;height:26px}.devide_search .divide_config .input_name{float:right;margin-top:4px}.divide_config .span{vertical-align:super}.divide_config{width:290px;line-height:36px}.left_divide{width:30%}.divider{background:#f4f5f6}.divider .header{position:relative}.divider .header .rightTab{width:50%;position:absolute;top:0;right:40px}fieldset .header .headding{border:1px dashed #424344;width:100%;height:3px;margin-bottom:20px!important;background:#65778b;margin-top:-10px;position:relative}.headding .leaf1,.headding .leaf2{position:absolute;top:2px;font-size:16px;color:#65778b}.headding .leaf1{left:-19px}.headding .leaf2{right:-17px}.header .rightTab .countTime{width:210px;height:24px;background:#fff;border:1px solid #a9a9a9;overflow:hidden}.header .rightTab .countTime span{padding-left:10px}.header .rightTab .countTime input{border:0;width:180px;float:right;line-height:24px}.add_remove .divideSearch,.add_remove .selfSearch{width:100%;background:#eee;border-bottom:1px solid #ddd;padding-left:10px}#aggregationDefinitionName{height:24px}#aggVDtTable tr:hover{background:#eee}",""])},1125:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAAcCAYAAAAA7n9nAAAFW0lEQVR42u1baU9UZxT253Dv7AswLMMyw74zzAw7A5bFrdjS0KRGkyaliR/aNKbpEhOX2DU1mrSUJhVs4hKt2lppJdqKo3VBFv3QD/VT26fvORdwwHIdIKIl5yRPztx7X+4973me++RNuO+GDauIXUNxJHNOYn0FcXxqEguwZrw3nZ9uf2PsT+y99hc+ieMxLCXK/xorWD8gjr+bwAIkwzvpiPREulqRIPtH/8BHl2bQ09uHSDQKTdMQCAQW5Ff6+9Eai2Fb73ZEGxrQ3dODmlAIL/X1caZjOk/XaRyNp3M7du5E78t9eH1gAK++tgO733qbf7/z7nv8+8N9+7Hn/Q9w4ONPsffgIXx25CgOff4Fjg59g8NffY2hkeMYPDaC4ZOncezESZw8dwEnvj+Hsxd/wpkfL+KHny8zLl35FaNXf8Pla+MYG4/javwmrsRvYPzWbUb8zl3Gjbv3cHPiHm5NTjFuT03P4870zDwm7j/AxMwDIz8tzN4/8blUx1xdczVSvVT33Dzm5kTzo3mOjV/nedP8qQ8XRn/hnlB/CNQv6hv1b0T1cfDbYQwNH8fhLwe5z9Rv6jv1n3ggPogX4seMd/ptdn3XwG7WFelr2Q65/0wc6T4fUlJSloRmsSLFYkGKTtAfQQk2RUs4putqHI3XrAQbNJsdmt1hwOGC5nRDd3mgu73QPanQvenQU32wpGfC4suCJcMPS1YOrNl5sPoDsOYGYc0rhC1QDFuwFLbCMtiKKmAvqYK9tAb2slrYK+rgqIrAUR2Fo6YBjtpGOEJNcNa1wBlpgzOqUN+u0AFnQwdcjS/A1UTohKu5C66WbgOtPQbaNjHcbZvhjs1hi4H2hNy+1QSLxjNm76Xu62rd9Oh59Gyqg0A1UW2NG7lWrjsaM+YRblVzaua58Ryr69W8o7BXhmEvDxm9KK2GrbiSe8S9CpZw76iH3Et/PveWesy9pp6r3utpPsWD4sKTZnCjODLjnfk11YXGutp3ehzN5+/vSVqUb449RPe27Y854+KcX1DAReQHVVZF5AeDnAOU9dnM52fHqfG6zaZyIXQlxrzCIugOJ/KKitVk3cgtLoVFCTK3pAwW1Yic0gpuTE55FayZfvgrarh52VUh2HILkFUd5sZm1ioCCsuRUdfAoswINysyauGLtLAo0+vbWJTpDe1MXlrTRiYztbmTyU1tUaQror2t3Uy+lwXRBQ+JUAnDEzPE4iEBqXOedkNInnmBbU0QYxKiTMzq7xPvZzxnM4vSeH4XvJTn6lIvDtXLdVP9ah5pSqw8r8YOFmV6fYxfRF+0FQ71YvoizSzKjLpG2JUoM0P1sBWUIqsmAlt+oepnHaw5AWRX1sKalQt/eTWsGdnIKauEJS1D8VAOizeNeSFhmvFu8GumC13pJ4jOLS+CdJa0KA+M/w1vaqqpS4pTilOu1CkJbo8HB6//k7woaVFq5pDilOKUq3VKyqSzZYnySS4pTilOuRqnJCxblOKU4pT/G6dMDOOcZkBbDHHKdeuUiivN6TJ4I/6ISwLx+iycMjEWXOc3YDaLU65rp8wrLoGuhMm8EX/Eo+KTeRWnFKcUpzTL4pTilM+LUy44VgJdcKwenBjilOKUa7KmND1Wb0ZiiFOKU4pTilPKmlLWlOKU4pTilOKUsqYUpxSnFKdcQ6cMyJpSnFKcclmiTPZ7SvmPjjjlSp1y2d9T0hfB9GWwOKU45dNyymV/eU57J2gPxZP26IhTilOuxClXtEcncTcj7dWpC4fFKcUpV+2UpCPSU1K7GbFETD4ETk0BR36Xvc6C1YN0RHoiXZmFqSglJJ5FiCglnrv4F7xJ6MiDusQXAAAAAElFTkSuQmCC"},1193:function(e,t,a){var i=a(1194);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(1103)("80e32ce6",i,!0)},1194:function(e,t,a){t=e.exports=a(1102)(!1),t.i(a(1124),""),t.push([e.i,"",""])},1195:function(e,t,a){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(73),s=i(l),n=a(232),r=i(n),o=a(1196),g=i(o);a(357),t.default={name:"aggregationManager",components:{aggSelectDetail:g.default},data:function(){return{setting:{},zNodes:[{name:"维度定义 - 展开",open:!0,children:[{name:"股票"},{name:"债券",children:[{name:"企业债"},{name:"国债"},{name:"其它"}]},{name:"其它"}]}],checkAll:!1,estabTime:null,isHiden:!1,searchIsShow:!0,configIsShow:!1,isBlock:!1,aggregationDefinitions:[],aggregationDefinitionName:null,aggregationDefinitionUId:null,aggDescription:null,aggSpecification:null,selectedValue:"所选指标",searchAggDefName:null,valueRepoConfigs:[],aggregateValueConfigs:[],parametersContent:{},addOrUpdate:!0,aggDefCurrent:1,showItem:5,aggDefAllPage:1,searchAggregateValueName:"",aggregateValues:[],aggregateValueCurrent:1,aggregateValueAllpage:1,aggVCheckAll:!1,aggVSearchIsShow:!0,aggVConfigIsShow:!1,aggregateValue:{},aggregateValueName:"",aggVCheckAllDt:!1,aggVDesc:"",aggregateValueDt:{},aggDtItem:{}}},mounted:function(){this.treeInit(),e(".config_panel").slideUp(300),e(".aggvconfig_panel").slideUp(300),this.searchAggregationDefinition(),this.searchAggregateValue(),this.getValueConfigs()},computed:{},methods:{treeInit:function(){e.fn.zTree.init(e("#treeDemo"),this.setting,this.zNodes)},searchAggregationDefinition:function(t){var a=this,i=null,l=null;"number"==typeof t&&(i=t,this.aggDefCurrent=i),"string"==typeof t&&(i=null,l="%"+t+"%",null===t&&(l=null,i=1));r.default.searchConfigsByPg(l,"com.hundsun.frcp.engine.aggregation.AggregationDefinition",i,function(t){var i=t.data;if(a.aggDefAllPage=Math.ceil(t.totalItems/a.showItem),e.isArray(i)){for(var l=0;l<i.length;l++){i[l].name,i[l].value.desc;a.$set(a.aggregationDefinitions,l,i[l])}a.aggregationDefinitions=i}}),e("#aggregationDefinitionName").on("input propertychange",function(){a.aggregationDefinitionName=e(this).val();var t=e.fn.zTree.getZTreeObj("treeDemo"),i=t.getNodes()[0];i.name=a.aggregationDefinitionName,t.updateNode(i),t.selectNode(i),e("#aggregationDefinitionName").focus()}),e("#searchAggDefName").on("input propertychange",function(){a.searchAggDefName=e(this).val()}).keydown(function(e){13==e.keyCode&&(a.searchAggregationDefinition(a.searchAggDefName),e.preventDefault())}),e("#aggDescription").on("input propertychange",function(){a.aggDescription=e(this).val(),e.fn.zTree.getZTreeObj("treeDemo").getNodes()[0].desc=a.aggDescription})},getValueConfigs:function(){var e=this;r.default.searchValueRepoConfig(1,null,function(t){e.valueRepoConfigs=t});r.default.searchConfigs(null,"com.hundsun.frcp.engine.aggregation.AggregateValue",function(t){e.aggregateValueConfigs=t})},matchValue:function(t,a){var i=this,l=0,s=i.aggregateValueConfigs.length,n=i.valueRepoConfigs.length;switch(a){case 0:for(l=0;l<n;l++)if(t==i.valueRepoConfigs[l].valueName){e(".selector").get(0).selectedIndex=l+1+s;break}l==i.valueRepoConfigs.length-1&&t!=i.valueRepoConfigs[n-1].valueName&&(e(".selector").get(0).selectedIndex=0);break;case 1:for(l=0;l<s;l++)if(t==i.aggregateValueConfigs[l].name){e(".selector").get(0).selectedIndex=l+1;break}l==i.aggregateValueConfigs.length-1&&t!=i.aggregateValueConfigs[s-1].name&&(e(".selector").get(0).selectedIndex=0)}},showAggConfigs:function(t){function a(t,a,l){var s=l.uniqueId;if(null!=s)e(".box").empty(),r.default.searchConfigsByUid(s,function(e){var t=e[1];i.matchValue(t,1)});else if(null!=l.value&&null!=l.value.valueName){var n=l.value.valueName;if(null===n)e(".selector").get(0).selectedIndex=0;else{i.matchValue(n,0);var o=l.value.hasOwnProperty("valueProperties");if(o){var g=e("option:selected",".selector").index(),c=i.valueRepoConfigs[g-1-i.aggregateValueConfigs.length];c.hasOwnProperty("valueDefaultParameterMap")&&i.showParameterConfigs(c,l)}}}else e(".selector").get(0).selectedIndex=0,e(".box").empty()}this.configIsShow=!this.configIsShow;var i=this;i.addOrUpdate=!1,e(".selector").get(0).selectedIndex=0,e(".box").empty(),e(".config_panel").slideDown(300);var l=t.name;i.aggregationDefinitionName=l,i.aggregationDefinitionUId=t.uniqueId;var s=t.value.desc;i.aggDescription=s;var n=t.value.aggregator,o={callback:{onClick:a}};e.fn.zTree.init(e("#treeDemo"),o,[]);var g=e.fn.zTree.getZTreeObj("treeDemo");i.showTotalTree(n,g,null)},matchValueDescirbe:function(e){var t=this,a=0,i=t.valueRepoConfigs.length;for(a=0;a<i;a++)if(e==t.valueRepoConfigs[a].valueName){e=t.valueRepoConfigs[a].valueDescribe;break}return e},showTotalTree:function(e,t,a){var i=this,l=null,s=a,n=e.name,r=null,o=null,g=null,c=e.hasOwnProperty("aggregators");if(e.hasOwnProperty("uniqueId"))var d=e.uniqueId;else var d=null;if(null==s&&!e.hasOwnProperty("values")){var u={name:n,value:o,uniqueId:d,open:!0,children:[]};t.addNodes(s,u,!1)}if(e.hasOwnProperty("values")&&null==d)if(l=e.values,null==a){for(var h in l){var p=l[h];if(s!=a&&(n=r),o=p,r=p.valueName,null==s)var u={name:n,value:o,uniqueId:d,open:!0,desc:i.aggDescription,children:[]};else{n=i.matchValueDescirbe(n);var u={name:n,value:o,uniqueId:d,open:!0,children:[]}}t.addNodes(s,u,!1),s=t.getNodeByParam("name",n,s)}if(n=r,n=i.matchValueDescirbe(n),u={name:n,open:!0,value:{valueName:null,valueProperties:null},uniqueId:null,children:[]},t.addNodes(s,u,!1),c){s=t.getNodeByParam("name",n,s);var f=e.aggregators.aggregator;s.uniqueId=f.uniqueId,s.value=f.values.value,i.showTotalTree(f,t,s)}}else{for(var h in l){var p=l[h];s!=a&&(s.value=p),o=p;var u={name:i.matchValueDescirbe(o.valueName),value:{valueName:null,valueProperties:null},uniqueId:null,open:!0,children:[]};t.addNodes(s,u,!1),s=t.getNodeByParam("name",u.name,s)}if(c){var f=e.aggregators.aggregator;s.uniqueId=f.uniqueId,s.value=f.values.value,i.showTotalTree(f,t,s)}}if(c&&null!=d){if(null==a){o=e.hasOwnProperty("values")?e.values.value:null;var u={name:n,value:o,uniqueId:d,open:!0,desc:i.aggDescription,children:[]};t.addNodes(a,u,!1),a=t.getNodeByParam("name",n,a)}g=e.aggregators;for(var v in g){f=g[v],n=f.name,o=f.hasOwnProperty("values")?f.values.value:null;u={name:n,open:!0,value:o,uniqueId:f.hasOwnProperty("uniqueId")?f.uniqueId:null,children:[]},t.addNodes(a,u,!1),s=t.getNodeByParam("name",n,a),i.showTotalTree(f,t,s)}}},delAggregationDefinition:function(){var e=this;for(var t in e.aggregationDefinitions)e.aggregationDefinitions[t].isCheck&&(r.default.delConfig(e.aggregationDefinitions[t].uniqueId),e.simplifyUniqueId(e.aggregationDefinitions[t].uniqueId)==e.simplifyUniqueId(e.aggregationDefinitionUId)&&e.newAggDefConfig());setTimeout(function(){e.searchAggregationDefinition()},100),e.checkAll=!1},showParameterConfigs:function(t,a){function i(t){var a=t[0].getAttribute("id"),i=n.parametersContent[a],l=t.find("option:selected").index()-1,s=i[l];e.fn.zTree.getZTreeObj("treeDemo").getSelectedNodes()[0].value.valueProperties.with[a]=s}e(".box").empty();var l,n=this,r=a.hasOwnProperty("value")&&null!=a.value.valueProperties,o=t.valueDefaultParameterMap,g=(0,s.default)(o),c="",d={};d.with={};for(var u=2;u<g.length;u+=2){l=o[g[u]];var h=l.parameterDescribe,p=l.parameterName,f=r?a.value.valueProperties.with[p]:o[g[u+1]];d.with[p]=f;var v=[],m=0;if(c+="<div class='paramewrap'><span>"+h+" :</span>",l.hasOwnProperty("parameterRange")){c+="<select value='"+f+"' class='selectParameter' id='"+p+"'  @change='parameterChange("+p+")'>";var x=l.parameterRange;c+="<option >请配置指标参数</option>";for(var b in x){var _=x[b];v[m++]=_,c+=_==f?"<option selected='selected'>"+_+"</option>":"<option>"+_+"</option>"}n.parametersContent[p]=v,c+="</select></div>"}else c+="<input type='text' value='"+f+"' class='inputParameter' id='"+p+"'/>",c+="</div>";e(".box").html(c)}e.fn.zTree.getZTreeObj("treeDemo").getSelectedNodes()[0].value.valueProperties=d,e(".inputParameter").on("input propertychange",function(){e(this).val()}),e(".selectParameter").change(function(){i(e(this))})},change:function(t){var a=this,i=e.fn.zTree.getZTreeObj("treeDemo"),l=i.getSelectedNodes()[0];if(void 0===l)e.showNotice("请选中维度节点!","danger"),e(".selector").get(0).selectedIndex=0;else{var s=e("option:selected",".selector").index();if(i.removeChildNodes(l),0==s)i.getSelectedNodes()[0].uniqueId=null,i.getSelectedNodes()[0].value={},i.getSelectedNodes()[0].value.valueName=null,i.getSelectedNodes()[0].value.valueProperties=null;else if(s<=a.aggregateValueConfigs.length){var n=a.aggregateValueConfigs[s-1];i.getSelectedNodes()[0].uniqueId=n.uniqueId,i.getSelectedNodes()[0].value={},i.getSelectedNodes()[0].value.valueName=n.name,i.getSelectedNodes()[0].value.valueProperties=null;var r=n.value.valueCalc;for(var o in r){var g=r[o].ruleName,c={name:g,open:!0,value:{valueName:null,valueProperties:null},children:[]};i.addNodes(l,c,!1)}}else{null===l.value&&(l.value={},i.getSelectedNodes()[0].value.valueName=null,i.getSelectedNodes()[0].value.valueProperties=null);var d=a.valueRepoConfigs[s-1-a.aggregateValueConfigs.length];l.value.valueName!=d.valueName&&(i.getSelectedNodes()[0].value.valueProperties=null),i.getSelectedNodes()[0].value.valueName=d.valueName,i.getSelectedNodes()[0].uniqueId=null,d.hasOwnProperty("valueDefaultParameterMap")&&a.showParameterConfigs(d,l);var u={name:d.valueDescribe,open:!0,value:{valueName:null,valueProperties:null},children:[]};i.addNodes(l,u,!1)}i.refresh(),e("#"+l.tId+"_a").trigger("click")}},saveAggDefConfigs:function(){var t=this;if(null==t.aggregationDefinitionName||""==t.aggregationDefinitionName)return void e.showNotice("请输入维度定义名称！","warning");var a=e.fn.zTree.getZTreeObj("treeDemo"),i=a.getNodes()[0],l=t.buildAggregator(i),s=i.name,n=null;e.isEmptyObject(i.desc)||(n=i.desc);var o={name:s,aggregator:null,desc:n,uniqueId:"DbCfg~0"};if(o.aggregator=l,!t.addOrUpdate)return void r.default.updateConfig(t.aggregationDefinitionUId,t.aggregationDefinitionName,o,"com.hundsun.frcp.engine.aggregation.AggregationDefinition",function(a){if("500"!=a.status)return e.showNotice("更新成功！","success"),void t.searchAggregationDefinition();e.showNotice("更新失败，请检查输入值！","danger")});r.default.addConfig(t.aggregationDefinitionName,o,"com.hundsun.frcp.engine.aggregation.AggregationDefinition",function(a){if("500"==a.status)e.showNotice("新增失败，请检查输入值！","danger");else{t.searchAggregationDefinition();var i=a.getResponseHeader("location");t.aggregationDefinitionUId=i.substring(i.lastIndexOf("/")+1),t.addOrUpdate=!1,e.showNotice("新增成功！","success")}})},buildAggregator:function(e){var t=this,a={name:e.name,values:null,uniqueId:e.uniqueId,aggregators:null},i=e.uniqueId,l=null,s=null==e.children?[]:e.children,n=[],r=e.value,o={},g=0;if(null==i){if(0!=s.length){if(r=e.value,o.value=r,l=t.buildAggregator(s[0]),null==s[0].uniqueId)for(var c in l.values){var d=l.values[c];o["value_"+g++]=d}null!=s[0].uniqueId&&(a.aggregators={aggregator:l}),a.values=o}}else{for(a.aggregators={},o={value:r},g=0;g<s.length;g++){var u=s[g];l=t.buildAggregator(u),n.push(l)}for(g=0;g<n.length;g++)a.aggregators["aggregator_"+g]=n[g];a.values=o}return a},newAggDefConfig:function(){function t(t,i,l){var s=l.uniqueId;if(null!=s)e(".box").empty(),r.default.searchConfigsByUid(s,function(e){var t=e[1];a.matchValue(t,1)});else if(null!=l.value&&null!=l.value.valueName){var n=l.value.valueName;if(null===n)e(".selector").get(0).selectedIndex=0;else{a.matchValue(n,0);var o=l.value.hasOwnProperty("valueProperties");if(o){var g=e("option:selected",".selector").index(),c=a.valueRepoConfigs[g-1-a.aggregateValueConfigs.length];c.hasOwnProperty("valueDefaultParameterMap")&&a.showParameterConfigs(c,l)}}}else e(".selector").get(0).selectedIndex=0,e(".box").empty()}e(".config_panel").slideUp(300);var a=this,i={callback:{onClick:t}};e.fn.zTree.init(e("#treeDemo"),i,[]);var l=e.fn.zTree.getZTreeObj("treeDemo"),s={name:"",value:{valueName:null,valueProperties:null},uniqueId:null,open:!0,desc:null,children:[]};l.addNodes(null,s,!1),a.aggregationDefinitionName="",a.aggregationDefinitionUId="",a.aggDescription="",a.addOrUpdate=!0,e(".selector").get(0).selectedIndex=0,e(".box").empty(),this.configIsShow=!0,e(".config_panel").slideDown(300),e("#aggregationDefinitionName").focus()},goto:function(e){e!=this.current&&(this.current=e)},checkedAll:function(){for(var e=0;e<=this.aggregationDefinitions.length;e++)this.aggregationDefinitions[e].isCheck=!this.checkAll},singleSelect:function(){this.aggregationDefinitions.filter(function(e){return 1==e.isCheck}).length==this.aggregationDefinitions.length?this.checkAll=!0:this.checkAll=!1},slideUp:function(t,a){e(t.target);switch(a){case"search_panel":this.searchIsShow?e("."+a).slideUp(300):e("."+a).slideDown(300),this.searchIsShow=!this.searchIsShow;break;case"config_panel":this.configIsShow?e("."+a).slideUp(300):e("."+a).slideDown(300),this.configIsShow=!this.configIsShow}},dateBlock:function(e){var t=this;laydate({elem:e,type:"date",format:"YYYYMMDD",position:"static",istoday:!0,done:function(e){t.estabTime=e}})},searchAggregateValue:function(t){var a=null;if("number"==typeof t){if((a=t)==this.aggregateValueCurrent)return;this.aggregateValueCurrent=a}var i=this;i.searchAggregateValueName&&""===i.searchAggregateValueName.trim()&&(i.searchAggregateValueName=null),r.default.searchConfigsByPg("%"+i.searchAggregateValueName+"%","com.hundsun.frcp.engine.aggregation.AggregateValue",a,function(e){i.aggregateValues=e.data,i.aggregateValueAllpage=Math.ceil(e.totalItems/i.showItem)}),e("#searchAggregateValueName").keydown(function(e){13==e.keyCode&&(i.searchAggregateValue(i.searchAggregateValueName),e.preventDefault())})},simplifyUniqueId:function(e){if(null==e)return e;var t=e.toString().split("~");return t=t[0]+"~"+t[1]},delAggregateValue:function(){var e=this;for(var t in this.aggregateValues)this.aggregateValues[t].isCheck&&(r.default.delConfig(this.aggregateValues[t].uniqueId),e.simplifyUniqueId(e.aggregateValues[t].uniqueId)==e.simplifyUniqueId(e.aggregateValueDt.uniqueId)&&e.clearAllAggDt());setTimeout(function(){e.searchAggregateValue()},100),e.aggVCheckAllDt=!1},checkedAggregateValueAll:function(){for(var e=0;e<this.aggregateValues.length;e++)this.aggregateValues[e].isCheck=!this.aggVCheckAll},aggVSingleSelect:function(){this.aggregateValues.filter(function(e){return 1==e.isCheck}).length==this.aggregateValues.length?this.aggVCheckAll=!0:this.aggVCheckAll=!1},aggVSlideUp:function(t){switch(t){case"aggvsearch_panel":this.aggVSearchIsShow?e("."+t).slideUp(300):e("."+t).slideDown(300),this.aggVSearchIsShow=!this.aggVSearchIsShow;break;case"aggvconfig_panel":this.aggVConfigIsShow?e("."+t).slideUp(300):e("."+t).slideDown(300),this.aggVConfigIsShow=!this.aggVConfigIsShow}},aggVItemClick:function(t){this.aggVConfigIsShow=!0,e(".aggvconfig_panel").slideDown(300),this.aggregateValue=t.value.valueCalc,this.aggregateValueName=t.value.aggregateValueName,this.aggVDesc=t.value.desc,this.aggregateValueDt=t.value},checkedAggVAllDt:function(){for(var e in this.aggregateValue)this.aggregateValue[e].isCheck=!this.aggVCheckAllDt},aggVSingleSelectDt:function(){var e=0;for(var t in this.aggregateValue)1==this.aggregateValue[t].isCheck&&e++;e==this.aggregateValue.length?this.aggVCheckAllDt=!0:this.aggVCheckAllDt=!1},delAggregateValueDt:function(){for(var e in this.aggregateValue)this.aggregateValue[e].isCheck&&delete this.aggregateValue[e];var t=this.aggregateValue;this.aggregateValue=null,this.aggregateValue=t},aggVUpdate:function(){if(null==this.aggregateValueName||""==this.aggregateValueName)return void e.showNotice("请选择指标修改后更新","warning");var t=this;this.$nextTick(function(){t.paramBefore(t),r.default.updateConfig(t.aggregateValueDt.uniqueId,t.aggregateValueName,t.aggregateValueDt,"com.hundsun.frcp.engine.aggregation.AggregateValue",function(t){"500"==t.status?e.showNotice("更新失败，请检查输入值！","danger"):e.showNotice("更新成功！","success")}),setTimeout(function(){t.getValueConfigs()},100)})},addAggVDt:function(){var t={ruleName:"",ruleSpec:"",ruleSpecText:""},a=this.aggregateValue;this.aggregateValue=null,this.aggregateValue=a;var i=(0,s.default)(this.aggregateValue).length;this.aggregateValue["null_"+(i+1)]=t,this.$nextTick(function(){e("#aggVDtTable")[0].rows[i+1].cells[1].focus()})},aggVAddConfig:function(){if(null==this.aggregateValueName||""==this.aggregateValueName)return void e.showNotice("请输入指标名称！","warning");var t=this;this.$nextTick(function(){var a={aggregateValueDt:{uniqueId:"DbCfg~0"}};t.paramBefore(a),r.default.addConfig(t.aggregateValueName,a.aggregateValueDt,"com.hundsun.frcp.engine.aggregation.AggregateValue",function(a){if("500"==a.status)e.showNotice("新增失败，请检查输入值！","danger");else{var i=a.getResponseHeader("location");t.aggregateValueDt.uniqueId=i.substring(i.lastIndexOf("/")+1),e.showNotice("新增成功！","success")}}),setTimeout(function(){t.searchAggregateValue(),t.getValueConfigs()},100)})},paramBefore:function(t){t.aggregateValueDt.aggregateValueName=this.aggregateValueName,t.aggregateValueDt.desc=this.aggVDesc;for(var a={},i=1;i<e("#aggVDtTable")[0].rows.length;i++){var l={ruleName:e("#aggVDtTable")[0].rows[i].cells[1].innerText,ruleSpec:e("#aggVDtTable")[0].rows[i].cells[3].innerText,ruleSpecText:e("#aggVDtTable")[0].rows[i].cells[2].innerText};a["null_"+i]=l}t.aggregateValueDt.valueCalc=a},receiveMsgF:function(e){this.aggDtItem.ruleSpecText=e.valueCalcText,this.aggDtItem.ruleSpec=e.valueCalc},clearAllAggDt:function(){this.aggregateValue={},this.aggregateValueName="",this.aggVDesc="",this.aggregateValueDt={},this.aggVCheckAllDt=!1},addAggDt:function(){e(".aggvconfig_panel").slideUp(300),this.clearAllAggDt(),this.aggVConfigIsShow=!0,e(".aggvconfig_panel").slideDown(300),e("#aggregateValueName").focus()},aggVSave:function(){null==this.aggregateValueDt.uniqueId?this.aggVAddConfig():this.aggVUpdate()},fixHelper:function(t,a){return a.children().each(function(){e(this).width(e(this).width())}),a},dragTr:function(t,a){var i=this;return e("#aggVDtTable tbody").sortable({cursor:"move",helper:i.fixHelper,axis:"y",revert:!0,handle:".dragTd"}),e("#aggVDtTable").disableSelection(),!1}}}}).call(t,a(2))},1196:function(e,t,a){"use strict";function i(e){a(1197)}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1200),s=a.n(l),n=a(1201),r=a(15),o=i,g=r(s.a,n.a,!1,o,"data-v-02ac22f9",null);t.default=g.exports},1197:function(e,t,a){var i=a(1198);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(1103)("f3138126",i,!0)},1198:function(e,t,a){t=e.exports=a(1102)(!1),t.i(a(1199),""),t.push([e.i,"",""])},1199:function(e,t,a){t=e.exports=a(1102)(!1),t.push([e.i,".tab-content{width:100%;height:100%}.tab-content .active{height:100%}#selectDetail{width:100%;height:100%}#selectDetail .modal-header{padding:8px 0 8px 15px}#selectDetail .modal-header button{margin-top:-6px;margin-right:10px}#selectDetail .modal-header span{color:#000;font-size:24px}#selectDetail .modal-title{font-size:16px}#selectDetail .modal-body{position:relative!important;top:0;padding:0!important;height:calc(100% - 80px)}#selectDetail .modal-footer{padding-top:10px;margin-top:0}#selectDetail .modal-footer button{height:26px;line-height:12px}#selectDetail .title{width:100%;height:24px;background:#eee;border:1px solid #ddd;border-bottom:0;color:#444;font-weight:600;line-height:24px;padding-left:10px}#selectDetail .detailMain{width:100%;height:100%;position:relative}#selectDetail .detailMain .agg_list{width:28%;height:100%;line-height:26px;overflow:hidden;position:absolute;left:0;top:0}#selectDetail .detailMain .selected_list{width:72%;height:100%;border:1px solid #ddd;position:absolute;top:0;right:0}.detailMain .agg_list .agg_title,.detailMain .selected_list .select_title{width:100%;height:26px;border-bottom:1px solid #ddd;padding-left:10px;padding-top:4px;font-weight:600;background:#eee}.detailMain .agg_list .agg_title p span,.detailMain .selected_list .select_title p span{padding-right:4px;color:#426e95}.selected_list .description{width:100%;height:80px;border-top:1px solid #ddd;background:#f4f5f6;position:absolute;bottom:0;padding-right:20px;padding-top:10px}.description .infotitle{width:12%;height:100%;text-align:center;line-height:61px;float:left}.description .edit{width:85%;height:90%;border:1px solid #ddd;border-radius:3px;float:left}.agg_list .search_box{width:100%;height:26px;border-bottom:1px solid #ddd;background:#f4f5f6;padding:2px 0 0 8px;overflow:hidden}.agg_list .search_box input{width:140px;float:left;color:#000;text-indent:1em}.agg_list .search_box .operate{width:100%;height:25px;background:#f4f5f6;padding-top:3px;border-bottom:1px solid #ddd}.agg_list .search_box .operate li{display:inline-block;cursor:pointer;padding:0 3px}.agg_list .search_box .operate li span{color:#426e95}.agg_list .treebox{float:left;margin-left:-10px}.selected_list .operate{width:100%;height:26px;background:#f4f5f6;padding-top:4px}.selected_list .operate .add_remove span{padding:0 8px;cursor:pointer}.select_table{visibility:hidden;width:100%;border-top:2px solid #ddd}.select_table tr{width:100%;height:24px;display:inline-table}.select_table tr div{display:table-cell;height:24px}.select_table tr div,.select_table tr th{border:1px solid #ddd;border-top:0;width:20px}.select_table tr th{border-right:1px solid #ddd;background:#eee;text-align:center;font-weight:600}.select_table tr td{display:inline-block;width:100%;text-align:center}.select_table .bgcolor:focus{background-color:#ccc}#treebox{width:100%;height:calc(100% - 26px);overflow-y:scroll}.table_wrap{height:calc(100% - 130px);overflow-y:auto}",""])},1200:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),a(357);var i=a(232),l=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={name:"aggSelectDetail",props:["ruleSpec","ruleSpecText"],data:function(){return{setting:{check:{enable:!0,nocheckInherit:!1},data:{simpleData:{enable:!0}}},zNodes:[],typeNames:[],values:[],valueCalc:"",valueCalcText:"",regexp:"",replacement:{},clearAllB:!1,selectIndex:""}},mounted:function(){this.selectTreeinit()},watch:{ruleSpecText:function(){this.clearAllBefore(),e(".select_table").css("visibility","visible");for(var t="",a=0;a<this.ruleSpecText.length;a++)if(t+=this.ruleSpecText[a],")"===this.ruleSpecText[a]&&"]"===this.ruleSpecText[a-1]){t=t.substring(t.indexOf("(")+1);for(var i="",l={},s=0,n=0;s<t.length-1;s++){if("]"===t[s]){i=i.substring(0,i.length-1);var r=i.indexOf(" in "),o=i.substring(i.indexOf("[")+1,r);l[o]=i.substring(r+5).split(","),-1===this.typeNames.indexOf(o)&&(this.typeNames[n++]=o),i=""}i+=t[s]}t="",this.values.push(l)}}},computed:{valueCalcTextC:{get:function(){return this.clearAllB?(this.clearAllB=!1,this.valueCalcText):""==this.valueCalcText?this.ruleSpecText:this.valueCalcText}}},methods:{selectTreeinit:function(){var t=this;l.default.searchConfigsByUid("DbCfg~200",function(a){var i=JSON.parse(a[3]);t.replacement=i.replaceStr,i=i.valueCalcText;var l=0;for(var s in i){t.zNodes[l]={name:s,children:[],nocheck:!0,open:!0};for(var n=0;n<i[s].length;n++)t.zNodes[l].children[n]={name:i[s][n]};l++}e.fn.zTree.init(e("#selectTree"),t.setting,t.zNodes);var l=0;for(var r in t.replacement)l>0&&(t.regexp+="|"),l++,t.regexp+=r})},addFilters:function(){e(".select_table").css("visibility","visible");for(var t=e.fn.zTree.getZTreeObj("selectTree").getCheckedNodes(),a={},i=0,l=this.typeNames.length;i<t.length;i++){var s=t[i].getParentNode().name;-1===this.typeNames.indexOf(s)&&(this.typeNames[l++]=s),a.hasOwnProperty(s)||(a[s]=[]),a[s].push(t[i].name)}t.length>0&&(this.values.push(a),this.calcValue(),e.fn.zTree.getZTreeObj("selectTree").checkAllNodes(!1))},sendMsg:function(){this.$emit("receiveMsg",{valueCalcText:this.valueCalcText,valueCalc:this.valueCalc})},clearAll:function(){this.clearAllBefore(),this.clearAllB=!0},clearAllBefore:function(){e.fn.zTree.getZTreeObj("selectTree").checkAllNodes(!1),this.typeNames=[],this.values=[],this.valueCalc="",this.valueCalcText=""},clear:function(){this.$delete(this.values,this.selectIndex),this.calcValue()},calcValue:function(){var e=this;this.valueCalcText="",this.valueCalc="";for(var t=0;t<this.values.length;t++){var a=this.values[t];""!==this.valueCalcText&&(this.valueCalcText+=" or "),this.valueCalcText+="(";var i=0;for(var l in a)i>0&&(this.valueCalcText+=" and "),i++,this.valueCalcText+="["+l+" in ("+a[l].toString()+")]";this.valueCalcText+=")",this.valueCalc=this.valueCalcText.replace(new RegExp(this.regexp,"g"),function(t){return e.replacement[t]})}}}}}).call(t,a(2))},1201:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal pas-modal modalShow",attrs:{id:"selectDetail",tabindex:"-1",role:"dialog","aria-labelledby":"newcomdel_title"}},[i("div",{directives:[{name:"modal-drag",rawName:"v-modal-drag"}],staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"detailMain"},[e._m(1),e._v(" "),i("div",{staticClass:"selected_list"},[e._m(2),e._v(" "),i("div",{staticClass:"operate"},[i("div",{staticClass:"add_remove"},[i("span",{staticClass:"remove",on:{click:function(t){e.addFilters()}}},[i("img",{attrs:{src:a(1123)}}),e._v("增加")]),e._v(" "),i("span",{staticClass:"remove",on:{click:e.clear}},[i("img",{attrs:{src:a(1122)}}),e._v("删除")]),e._v(" "),i("span",{staticClass:"remove",on:{click:e.clearAll}},[i("img",{attrs:{src:a(1122)}}),e._v("清空条件列表")])])]),e._v(" "),i("div",{staticClass:"table_wrap"},[i("table",{staticClass:"select_table"},[i("tr",e._l(e.typeNames,function(t,a){return i("th",{key:a},[e._v(e._s(t))])})),e._v(" "),e._l(e.values,function(t,a){return i("tr",{key:a,staticClass:"bgcolor",attrs:{tabindex:a}},e._l(e.typeNames,function(l,s){return i("div",{key:s,on:{click:function(t){e.selectIndex=a}}},[null==t[l]?i("td"):i("td",[e._v(e._s(t[l].toString()))])])}))})],2)]),e._v(" "),i("div",{staticClass:"description"},[i("p",{staticClass:"infotitle"},[e._v("描述")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.valueCalcTextC,expression:"valueCalcTextC"}],staticClass:"edit",attrs:{name:"",rows:"",cols:"",readonly:"readonly"},domProps:{value:e.valueCalcTextC},on:{input:function(t){t.target.composing||(e.valueCalcTextC=t.target.value)}}})])])])]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("取消")]),e._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){e.sendMsg()}}},[e._v("确定")])])])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v(" "),a("h4",{staticClass:"modal-title"},[e._v("筛选条件")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agg_list"},[a("div",{staticClass:"agg_title"},[a("p",[a("span",{staticClass:"fa fa-list-alt"}),e._v("维度列表")])]),e._v(" "),a("div",{staticClass:"search_box",staticStyle:{display:"none"}},[a("input",{attrs:{type:"text"}}),e._v(" "),a("div",{staticClass:"operate"},[a("li",[a("span",{staticClass:"fa fa-mail-reply-all"}),e._v("取消")]),e._v(" "),a("li",[a("span",{staticClass:"fa fa-filter"}),e._v("搜索")])])]),e._v(" "),a("div",{attrs:{id:"treebox"}},[a("div",{staticClass:"zTreeDemoBackground left"},[a("ul",{staticClass:"ztree",attrs:{id:"selectTree"}})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select_title"},[a("p",[a("span",{staticClass:"fa fa-list-alt"}),e._v("已选列表")])])}],s={render:i,staticRenderFns:l};t.a=s},1202:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"manage"}},[e._m(0),e._v(" "),i("div",{staticClass:"tab-content"},[i("div",{staticClass:"tab-pane active",attrs:{id:"panel-637655"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"panel panel-default"},[i("header",{staticClass:"panel-heading"},[i("div",{staticClass:"panel-title"},[i("i",{staticClass:"fa fa-search-minus",staticStyle:{color:"#65778b","font-size":"16px","padding-right":"2px"}}),e._v("\r\n\t\t\t\t\t\t\t维度查询\r\n\t\t\t\t\t\t\t"),i("div",{staticClass:"panel-tag"},[i("span",{staticClass:"tools pull-right",on:{click:function(t){e.slideUp(t,"search_panel")}}},[i("a",{directives:[{name:"show",rawName:"v-show",value:!e.searchIsShow,expression:"!searchIsShow"}],staticClass:"fa fa-chevron-down",attrs:{href:"javascript:;"}}),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.searchIsShow,expression:"searchIsShow"}],staticClass:"fa fa-chevron-up",attrs:{href:"javascript:;"}})])])])]),e._v(" "),i("div",{staticClass:"search_panel",staticStyle:{padding:"0"}},[i("div",{staticClass:"add_remove"},[i("div",{staticClass:"search_wrap selfSearch"},[i("span",[e._v("维度名称：")]),e._v(" "),i("form",{staticClass:"form-search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchAggDefName,expression:"searchAggDefName"}],staticClass:"input_name",attrs:{id:"searchAggDefName",type:"text",placeholder:"请输入搜索的维度名称"},domProps:{value:e.searchAggDefName},on:{input:function(t){t.target.composing||(e.searchAggDefName=t.target.value)}}}),e._v(" "),i("button",{staticClass:"sBtn btn btn-primary break-but add-search-row",attrs:{type:"button"},on:{click:function(t){e.searchAggregationDefinition(e.searchAggDefName)}}},[e._v("查询 ")])])]),e._v(" "),i("div",{staticClass:"tag_ar"},[i("span",{staticClass:"add",on:{click:function(t){e.newAggDefConfig()}}},[i("img",{attrs:{src:a(1123)}}),e._v("新增")]),e._v(" "),i("span",{staticClass:"remove",on:{click:function(t){e.delAggregationDefinition()}}},[i("img",{attrs:{src:a(1122)}}),e._v("删除")])]),e._v(" "),i("div",{staticClass:"fix-table-panel sTable"},[i("table",{staticClass:"table-common",staticStyle:{width:"100%"}},[i("tr",{staticStyle:{width:"100%"}},[i("th",{staticClass:"th1",staticStyle:{width:"10%"}},[i("label",{attrs:{for:"selectAll"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkAll,expression:"checkAll"}],attrs:{type:"checkbox",name:"",id:"selectAll",value:""},domProps:{checked:Array.isArray(e.checkAll)?e._i(e.checkAll,"")>-1:e.checkAll},on:{click:function(t){e.checkedAll()},change:function(t){var a=e.checkAll,i=t.target,l=!!i.checked;if(Array.isArray(a)){var s=e._i(a,"");i.checked?s<0&&(e.checkAll=a.concat([""])):s>-1&&(e.checkAll=a.slice(0,s).concat(a.slice(s+1)))}else e.checkAll=l}}}),e._v("全选")])]),e._v(" "),i("th",{staticClass:"th2",staticStyle:{width:"20%"}},[e._v("维度名称")]),e._v(" "),i("th",{staticClass:"th3",staticStyle:{width:"70%"}},[e._v("维度说明")])]),e._v(" "),e._l(e.aggregationDefinitions,function(t,a){return i("tr",{key:a},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheck,expression:"item.isCheck"}],attrs:{type:"checkbox",name:"",value:""},domProps:{checked:Array.isArray(t.isCheck)?e._i(t.isCheck,"")>-1:t.isCheck},on:{change:[function(a){var i=t.isCheck,l=a.target,s=!!l.checked;if(Array.isArray(i)){var n=e._i(i,"");l.checked?n<0&&(t.isCheck=i.concat([""])):n>-1&&(t.isCheck=i.slice(0,n).concat(i.slice(n+1)))}else e.$set(t,"isCheck",s)},function(t){e.singleSelect()}]}})]),e._v(" "),i("td",{staticClass:"right",staticStyle:{cursor:"pointer"},attrs:{uniqueId:t.uniqueId},on:{click:function(a){e.showAggConfigs(t)}}},[i("span",{staticClass:"aggName"},[e._v(e._s(t.name))])]),e._v(" "),i("td",{staticClass:"right"},[e._v(e._s(t.value.desc))])])})],2)]),e._v(" "),i("div",{staticClass:"page"},[i("ul",{staticClass:"pagination"},[i("li",{directives:[{name:"show",rawName:"v-show",value:1!=e.aggDefCurrent,expression:"aggDefCurrent != 1"}],on:{click:function(t){e.searchAggregationDefinition(e.aggDefCurrent-1)}}},[i("a",{attrs:{href:"#"}},[e._v("上一页")])]),e._v(" "),e._l(e.aggDefAllPage,function(t){return i("li",{key:t,class:{active:e.aggDefCurrent==t},on:{click:function(a){e.searchAggregationDefinition(t)}}},[i("a",{attrs:{href:"#"}},[e._v(e._s(t))])])}),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.aggDefAllPage!=e.aggDefCurrent&&0!=e.aggDefAllPage,expression:"aggDefAllPage != aggDefCurrent && aggDefAllPage != 0 "}],on:{click:function(t){e.searchAggregationDefinition(e.aggDefCurrent+1)}}},[i("a",{attrs:{href:"#"}},[e._v("下一页")])])],2)])])])]),e._v(" "),i("div",{staticClass:"weidu_config"},[i("div",{staticClass:"panel panel-default"},[i("header",{staticClass:"panel-heading"},[i("div",{staticClass:"panel-title"},[i("i",{staticClass:"fa fa-gear",staticStyle:{color:"#65778b","font-size":"16px"}}),e._v("\r\n\t\t\t\t\t\t\t\t维度配置\r\n\t\t\t\t\t\t\t\t"),e._v(" "),i("span",{staticClass:"tools pull-right",on:{click:function(t){e.slideUp(t,"config_panel")}}},[i("a",{directives:[{name:"show",rawName:"v-show",value:!e.configIsShow,expression:"!configIsShow"}],staticClass:"fa fa-chevron-down",attrs:{href:"javascript:;"}}),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.configIsShow,expression:"configIsShow"}],staticClass:"fa fa-chevron-up",attrs:{href:"javascript:;"}})])])]),e._v(" "),i("div",{staticClass:"config_panel"},[i("div",{staticClass:"box_config"},[e._m(1),e._v(" "),i("div",{staticClass:"rightcon_wrap"},[i("div",{staticClass:"tag_ar  tag_head"},[i("div",{staticClass:"weidu_name"},[i("span",[e._v("维度名称：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.aggregationDefinitionName,expression:"aggregationDefinitionName"}],attrs:{id:"aggregationDefinitionName",placeholder:"请输入维度名称",type:"text"},domProps:{value:e.aggregationDefinitionName},on:{input:function(t){t.target.composing||(e.aggregationDefinitionName=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"rightcon"},[e._m(2),e._v(" "),i("div",{staticClass:"search_wrap"},[i("span",[e._v("指标名称")]),e._v(" "),i("select",{staticClass:"selector",staticStyle:{width:"150px"},on:{change:function(t){e.change(t)}}},[i("option",[e._v("请选择指标")]),e._v(" "),e._l(e.aggregateValueConfigs,function(t){return i("option",[e._v(e._s(t.name))])}),e._v(" "),e._l(e.valueRepoConfigs,function(t){return i("option",[e._v(e._s(t.valueDescribe))])})],2)]),e._v(" "),i("form",[i("fieldset",{staticClass:"parameter"},[i("legend",[e._v("指标参数")]),e._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"paramewrap"},[i("span",[e._v("开始计算日期：")]),e._v(" "),i("input",{staticClass:"initial_date laydate-icon",attrs:{type:"text","val-required":"",value:"","date-laydate":"",id:"estab_date"},on:{click:function(t){e.dateBlock("#estab_date")}}})]),e._v(" "),e._m(3),e._v(" "),e._m(4)])])]),e._v(" "),i("div",{staticClass:"detail_info"},[e._m(5),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.aggDescription,expression:"aggDescription"}],staticClass:"edit",attrs:{id:"aggDescription"},domProps:{value:e.aggDescription},on:{input:function(t){t.target.composing||(e.aggDescription=t.target.value)}}})]),e._v(" "),i("button",{staticClass:"btn btn-primary break-but save",attrs:{type:"button"},on:{click:function(t){e.saveAggDefConfigs()}}},[e._v("保存 ")])])])])])])])])]),e._v(" "),i("div",{staticClass:"tab-pane",attrs:{id:"panel-948801"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"panel panel-default"},[i("header",{staticClass:"panel-heading"},[i("div",{staticClass:"panel-title"},[i("i",{staticClass:"fa fa-search-minus",staticStyle:{color:"#65778b","font-size":"16px","padding-right":"10px"}}),e._v("\r\n\t\t\t\t\t\t\t自定义维度查询\r\n\t\t\t\t\t\t\t"),i("div",{staticClass:"panel-tag"},[i("span",{staticClass:"tools pull-right",on:{click:function(t){e.aggVSlideUp("aggvsearch_panel")}}},[i("a",{directives:[{name:"show",rawName:"v-show",value:!e.aggVSearchIsShow,expression:"!aggVSearchIsShow"}],staticClass:"fa fa-chevron-down",attrs:{href:"javascript:;"}}),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.aggVSearchIsShow,expression:"aggVSearchIsShow"}],staticClass:"fa fa-chevron-up",attrs:{href:"javascript:;"}})])])])]),e._v(" "),i("div",{staticClass:"aggvsearch_panel",staticStyle:{padding:"0"}},[i("div",{staticClass:"add_remove"},[i("div",{staticClass:"search_wrap selfSearch"},[i("span",[e._v("维度指标名称：")]),e._v(" "),i("form",{staticClass:"form-search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchAggregateValueName,expression:"searchAggregateValueName"}],staticClass:"input_name",attrs:{id:"searchAggregateValueName",type:"text",placeholder:"请输入维度指标名称"},domProps:{value:e.searchAggregateValueName},on:{input:function(t){t.target.composing||(e.searchAggregateValueName=t.target.value)}}}),e._v(" "),i("button",{staticClass:"sBtn btn btn-primary break-but add-search-row",attrs:{type:"button"},on:{click:function(t){e.searchAggregateValue()}}},[e._v("查询")])])]),e._v(" "),i("div",{staticClass:"tag_ar"},[i("span",{staticClass:"add",on:{click:function(t){e.addAggDt()}}},[i("img",{attrs:{src:a(1123)}}),e._v("新增")]),e._v(" "),i("span",{staticClass:"remove",on:{click:function(t){e.delAggregateValue()}}},[i("img",{attrs:{src:a(1122)}}),e._v("删除")])]),e._v(" "),i("div",{staticClass:"fix-table-panel sTable"},[i("table",{staticClass:"table-common"},[i("tr",[i("th",{staticClass:"th1"},[i("label",{attrs:{for:"aggselectAll"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.aggVCheckAll,expression:"aggVCheckAll"}],attrs:{type:"checkbox",name:"",id:"aggselectAll",value:""},domProps:{checked:Array.isArray(e.aggVCheckAll)?e._i(e.aggVCheckAll,"")>-1:e.aggVCheckAll},on:{click:function(t){e.checkedAggregateValueAll()},change:function(t){var a=e.aggVCheckAll,i=t.target,l=!!i.checked;if(Array.isArray(a)){var s=e._i(a,"");i.checked?s<0&&(e.aggVCheckAll=a.concat([""])):s>-1&&(e.aggVCheckAll=a.slice(0,s).concat(a.slice(s+1)))}else e.aggVCheckAll=l}}}),e._v("全选")])]),e._v(" "),i("th",{staticClass:"th2"},[e._v("维度指标名称")]),e._v(" "),i("th",{staticClass:"th3"},[e._v("说明")])]),e._v(" "),e._l(e.aggregateValues,function(t,a){return i("tr",{key:a},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheck,expression:"item.isCheck"}],attrs:{type:"checkbox",name:"",value:""},domProps:{checked:Array.isArray(t.isCheck)?e._i(t.isCheck,"")>-1:t.isCheck},on:{change:[function(a){var i=t.isCheck,l=a.target,s=!!l.checked;if(Array.isArray(i)){var n=e._i(i,"");l.checked?n<0&&(t.isCheck=i.concat([""])):n>-1&&(t.isCheck=i.slice(0,n).concat(i.slice(n+1)))}else e.$set(t,"isCheck",s)},function(t){e.aggVSingleSelect()}]}})]),e._v(" "),i("td",{staticClass:"right",staticStyle:{cursor:"pointer"},on:{click:function(a){e.aggVItemClick(t)}}},[e._v(e._s(t.value.aggregateValueName))]),e._v(" "),i("td",{staticClass:"right"},[e._v(e._s(t.value.desc))])])})],2)]),e._v(" "),i("div",{staticClass:"page"},[i("ul",{staticClass:"pagination"},[i("li",{directives:[{name:"show",rawName:"v-show",value:1!=e.aggregateValueCurrent,expression:"aggregateValueCurrent != 1"}],on:{click:function(t){e.searchAggregateValue(e.aggregateValueCurrent-1)}}},[i("a",{attrs:{href:"#"}},[e._v("上一页")])]),e._v(" "),e._l(e.aggregateValueAllpage,function(t){return i("li",{key:t,class:{active:e.aggregateValueCurrent==t},on:{click:function(a){e.searchAggregateValue(t)}}},[i("a",{attrs:{href:"#"}},[e._v(e._s(t))])])}),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.aggregateValueAllpage!=e.aggregateValueCurrent&&0!=e.aggregateValueAllpage,expression:"aggregateValueAllpage != aggregateValueCurrent && aggregateValueAllpage != 0 "}],on:{click:function(t){e.searchAggregateValue(e.aggregateValueCurrent+1)}}},[i("a",{attrs:{href:"#"}},[e._v("下一页")])])],2)])])])]),e._v(" "),i("div",{staticClass:"panel-body weidu_config",staticStyle:{padding:"0"}},[i("div",{staticClass:"panel panel-default"},[i("header",{staticClass:"panel-heading"},[i("div",{staticClass:"panel-title"},[i("i",{staticClass:"fa fa-gear",staticStyle:{color:"#65778b","font-size":"16px","padding-right":"10px"}}),e._v("\r\n\t\t\t\t\t\t\t\t自定义维度配置\r\n\t\t\t\t\t\t\t\t"),i("span",{staticClass:"tools pull-right",on:{click:function(t){e.aggVSlideUp("aggvconfig_panel")}}},[i("a",{directives:[{name:"show",rawName:"v-show",value:!e.aggVConfigIsShow,expression:"!aggVConfigIsShow"}],staticClass:"fa fa-chevron-down",attrs:{href:"javascript:;"}}),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.aggVConfigIsShow,expression:"aggVConfigIsShow"}],staticClass:"fa fa-chevron-up",attrs:{href:"javascript:;"}})])])]),e._v(" "),i("div",{staticClass:"aggvconfig_panel selfconfig"},[i("div",{staticClass:"search_box"},[i("div",{staticClass:"add_remove"},[i("div",{staticClass:"weidu_name"},[i("span",[e._v("自定义指标名称：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.aggregateValueName,expression:"aggregateValueName"}],attrs:{id:"aggregateValueName",type:"text",placeholder:"请输入维度指标名称"},domProps:{value:e.aggregateValueName},on:{input:function(t){t.target.composing||(e.aggregateValueName=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"tag_ar"},[i("span",{staticClass:"add",on:{click:function(t){e.addAggVDt()}}},[i("img",{attrs:{src:a(1123)}}),e._v("新增")]),e._v(" "),i("span",{staticClass:"remove",on:{click:function(t){e.delAggregateValueDt()}}},[i("img",{attrs:{src:a(1122)}}),e._v("删除")])])]),e._v(" "),i("ul",{staticClass:"fix-table-panel sTable"},[i("table",{staticClass:"table-common",attrs:{id:"aggVDtTable"}},[i("thead",[i("tr",{staticStyle:{width:"100%"}},[i("th",{staticClass:"th1",staticStyle:{width:"15%"}},[i("label",{attrs:{for:"aggVDtselectAll"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.aggVCheckAllDt,expression:"aggVCheckAllDt"}],attrs:{type:"checkbox",name:"",id:"aggVDtselectAll",value:""},domProps:{checked:Array.isArray(e.aggVCheckAllDt)?e._i(e.aggVCheckAllDt,"")>-1:e.aggVCheckAllDt},on:{click:function(t){e.checkedAggVAllDt()},change:function(t){var a=e.aggVCheckAllDt,i=t.target,l=!!i.checked;if(Array.isArray(a)){var s=e._i(a,"");i.checked?s<0&&(e.aggVCheckAllDt=a.concat([""])):s>-1&&(e.aggVCheckAllDt=a.slice(0,s).concat(a.slice(s+1)))}else e.aggVCheckAllDt=l}}}),e._v("全选")])]),e._v(" "),i("th",{staticClass:"th2",staticStyle:{width:"30%"}},[e._v("输出")]),e._v(" "),i("th",{staticClass:"th3",staticStyle:{width:"40%"}},[e._v("需求")]),e._v(" "),i("th",{staticClass:"th4",staticStyle:{width:"15%"}},[e._v("移动")])])]),e._v(" "),i("tbody",e._l(e.aggregateValue,function(t,a){return i("tr",{key:e.aggregateValueDt.uniqueId+a},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheck,expression:"items.isCheck"}],attrs:{type:"checkbox",name:"",value:""},domProps:{checked:Array.isArray(t.isCheck)?e._i(t.isCheck,"")>-1:t.isCheck},on:{change:[function(a){var i=t.isCheck,l=a.target,s=!!l.checked;if(Array.isArray(i)){var n=e._i(i,"");l.checked?n<0&&(t.isCheck=i.concat([""])):n>-1&&(t.isCheck=i.slice(0,n).concat(i.slice(n+1)))}else e.$set(t,"isCheck",s)},function(t){e.aggVSingleSelectDt()}]}})]),e._v(" "),i("td",{staticClass:"right",attrs:{contenteditable:"true"}},[e._v(e._s(t.ruleName))]),e._v(" "),i("td",{staticClass:"right",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":".modalShow"},on:{click:function(a){e.aggDtItem=t}}},[e._v(e._s(t.ruleSpecText))]),e._v(" "),i("td",{staticClass:"dragTd",staticStyle:{cursor:"move"},on:{mousemove:function(a){e.dragTr(a,t)}}},[i("i",{staticClass:"fa fa-arrows"})])])}))])])]),e._v(" "),i("div",{staticClass:"design_info"},[e._m(6),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.aggVDesc,expression:"aggVDesc"}],staticClass:"edit",domProps:{value:e.aggVDesc},on:{input:function(t){t.target.composing||(e.aggVDesc=t.target.value)}}}),e._v(" "),i("button",{staticClass:"btn btn-primary break-but selfsave",attrs:{type:"button"},on:{click:function(t){e.aggVSave()}}},[e._v("保存")])])])]),e._v(" "),i("aggSelectDetail",e._b({on:{receiveMsg:e.receiveMsgF}},"aggSelectDetail",e.aggDtItem,!1))],1)])])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabbable",attrs:{id:"tabs-167894"}},[a("ul",{staticClass:"nav nav-tabs tabtree"},[a("li",{staticClass:"active gap"},[a("a",{attrs:{href:"#panel-637655","data-toggle":"tab"}},[e._v("维度管理")])]),e._v(" "),a("li",{},[a("a",{attrs:{href:"#panel-948801","data-toggle":"tab"}},[e._v("自定义维度指标管理")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leftside"},[a("p",{staticClass:"title"},[e._v("\r\n\t\t\t\t\t\t\t\t\t\t维度树管理\r\n\t\t\t\t\t\t\t\t\t")]),e._v(" "),a("div",{staticClass:"zTreeDemoBackground left treeleft"},[a("ul",{staticClass:"ztree",attrs:{id:"treeDemo"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav_detail"},[a("p",{staticClass:"title"},[a("i",{staticClass:"fa fa-tag",staticStyle:{color:"#65778b","font-size":"14px","padding-right":"10px"}}),e._v("指标选择")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paramewrap"},[a("span",[e._v("开始计期：")]),e._v(" "),a("select",{attrs:{name:""}},[a("option",{attrs:{value:""}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paramewrap"},[a("span",[e._v("开始：")]),e._v(" "),a("input",{attrs:{type:"text"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav_detail"},[a("p",{staticClass:"title"},[a("i",{staticClass:"fa fa-tag",staticStyle:{color:"#65778b","font-size":"14px",padding:"0 10px"}}),e._v("详细说明")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav_detail"},[a("p",{staticClass:"title"},[a("i",{staticClass:"fa fa-tag",staticStyle:{color:"#65778b","font-size":"14px",padding:"0 10px"}}),e._v("详细说明")])])}],s={render:i,staticRenderFns:l};t.a=s}});